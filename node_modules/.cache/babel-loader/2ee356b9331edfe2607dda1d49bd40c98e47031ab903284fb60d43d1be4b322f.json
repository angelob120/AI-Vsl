{"ast":null,"code":"/**\n * Persistent Storage Utilities\n * Wraps window.storage API with error handling\n */\n\n/**\n * Get a value from storage\n */\nexport const getStorageItem = async key => {\n  try {\n    const result = await window.storage.get(key);\n    if (result && result.value) {\n      return JSON.parse(result.value);\n    }\n    return null;\n  } catch (e) {\n    console.log(`Storage get failed for key: ${key}`, e);\n    return null;\n  }\n};\n\n/**\n * Set a value in storage\n */\nexport const setStorageItem = async (key, value) => {\n  try {\n    const result = await window.storage.set(key, JSON.stringify(value));\n    return result !== null;\n  } catch (e) {\n    console.error(`Storage set failed for key: ${key}`, e);\n    return false;\n  }\n};\n\n/**\n * Delete a value from storage\n */\nexport const deleteStorageItem = async key => {\n  try {\n    const result = await window.storage.delete(key);\n    return result !== null;\n  } catch (e) {\n    console.error(`Storage delete failed for key: ${key}`, e);\n    return false;\n  }\n};\n\n/**\n * List all keys with a prefix\n */\nexport const listStorageKeys = async prefix => {\n  try {\n    const result = await window.storage.list(prefix);\n    return (result === null || result === void 0 ? void 0 : result.keys) || [];\n  } catch (e) {\n    console.log(`Storage list failed for prefix: ${prefix}`, e);\n    return [];\n  }\n};\n\n/**\n * Load all items with a given prefix\n */\nexport const loadAllItems = async prefix => {\n  const keys = await listStorageKeys(prefix);\n  const items = [];\n  for (const key of keys) {\n    const item = await getStorageItem(key);\n    if (item) {\n      items.push(item);\n    }\n  }\n  return items;\n};\n\n/**\n * Generate a unique ID\n */\nexport const generateUniqueId = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2, 9);\n};","map":{"version":3,"names":["getStorageItem","key","result","window","storage","get","value","JSON","parse","e","console","log","setStorageItem","set","stringify","error","deleteStorageItem","delete","listStorageKeys","prefix","list","keys","loadAllItems","items","item","push","generateUniqueId","Date","now","toString","Math","random","substr"],"sources":["/Users/ab/inase tools/contractor-builder/src/utils/storage.js"],"sourcesContent":["/**\n * Persistent Storage Utilities\n * Wraps window.storage API with error handling\n */\n\n/**\n * Get a value from storage\n */\nexport const getStorageItem = async (key) => {\n  try {\n    const result = await window.storage.get(key);\n    if (result && result.value) {\n      return JSON.parse(result.value);\n    }\n    return null;\n  } catch (e) {\n    console.log(`Storage get failed for key: ${key}`, e);\n    return null;\n  }\n};\n\n/**\n * Set a value in storage\n */\nexport const setStorageItem = async (key, value) => {\n  try {\n    const result = await window.storage.set(key, JSON.stringify(value));\n    return result !== null;\n  } catch (e) {\n    console.error(`Storage set failed for key: ${key}`, e);\n    return false;\n  }\n};\n\n/**\n * Delete a value from storage\n */\nexport const deleteStorageItem = async (key) => {\n  try {\n    const result = await window.storage.delete(key);\n    return result !== null;\n  } catch (e) {\n    console.error(`Storage delete failed for key: ${key}`, e);\n    return false;\n  }\n};\n\n/**\n * List all keys with a prefix\n */\nexport const listStorageKeys = async (prefix) => {\n  try {\n    const result = await window.storage.list(prefix);\n    return result?.keys || [];\n  } catch (e) {\n    console.log(`Storage list failed for prefix: ${prefix}`, e);\n    return [];\n  }\n};\n\n/**\n * Load all items with a given prefix\n */\nexport const loadAllItems = async (prefix) => {\n  const keys = await listStorageKeys(prefix);\n  const items = [];\n  \n  for (const key of keys) {\n    const item = await getStorageItem(key);\n    if (item) {\n      items.push(item);\n    }\n  }\n  \n  return items;\n};\n\n/**\n * Generate a unique ID\n */\nexport const generateUniqueId = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2, 9);\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,MAAMA,cAAc,GAAG,MAAOC,GAAG,IAAK;EAC3C,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMC,MAAM,CAACC,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;IAC5C,IAAIC,MAAM,IAAIA,MAAM,CAACI,KAAK,EAAE;MAC1B,OAAOC,IAAI,CAACC,KAAK,CAACN,MAAM,CAACI,KAAK,CAAC;IACjC;IACA,OAAO,IAAI;EACb,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,+BAA+BV,GAAG,EAAE,EAAEQ,CAAC,CAAC;IACpD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,cAAc,GAAG,MAAAA,CAAOX,GAAG,EAAEK,KAAK,KAAK;EAClD,IAAI;IACF,MAAMJ,MAAM,GAAG,MAAMC,MAAM,CAACC,OAAO,CAACS,GAAG,CAACZ,GAAG,EAAEM,IAAI,CAACO,SAAS,CAACR,KAAK,CAAC,CAAC;IACnE,OAAOJ,MAAM,KAAK,IAAI;EACxB,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACK,KAAK,CAAC,+BAA+Bd,GAAG,EAAE,EAAEQ,CAAC,CAAC;IACtD,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMO,iBAAiB,GAAG,MAAOf,GAAG,IAAK;EAC9C,IAAI;IACF,MAAMC,MAAM,GAAG,MAAMC,MAAM,CAACC,OAAO,CAACa,MAAM,CAAChB,GAAG,CAAC;IAC/C,OAAOC,MAAM,KAAK,IAAI;EACxB,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACK,KAAK,CAAC,kCAAkCd,GAAG,EAAE,EAAEQ,CAAC,CAAC;IACzD,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMS,eAAe,GAAG,MAAOC,MAAM,IAAK;EAC/C,IAAI;IACF,MAAMjB,MAAM,GAAG,MAAMC,MAAM,CAACC,OAAO,CAACgB,IAAI,CAACD,MAAM,CAAC;IAChD,OAAO,CAAAjB,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEmB,IAAI,KAAI,EAAE;EAC3B,CAAC,CAAC,OAAOZ,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,mCAAmCQ,MAAM,EAAE,EAAEV,CAAC,CAAC;IAC3D,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMa,YAAY,GAAG,MAAOH,MAAM,IAAK;EAC5C,MAAME,IAAI,GAAG,MAAMH,eAAe,CAACC,MAAM,CAAC;EAC1C,MAAMI,KAAK,GAAG,EAAE;EAEhB,KAAK,MAAMtB,GAAG,IAAIoB,IAAI,EAAE;IACtB,MAAMG,IAAI,GAAG,MAAMxB,cAAc,CAACC,GAAG,CAAC;IACtC,IAAIuB,IAAI,EAAE;MACRD,KAAK,CAACE,IAAI,CAACD,IAAI,CAAC;IAClB;EACF;EAEA,OAAOD,KAAK;AACd,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,gBAAgB,GAAGA,CAAA,KAAM;EACpC,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACF,QAAQ,CAAC,EAAE,CAAC,CAACG,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}