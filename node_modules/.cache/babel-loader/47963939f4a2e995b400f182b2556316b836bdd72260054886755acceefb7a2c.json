{"ast":null,"code":"/**\n * API client for webhook leads\n */\n\n// Use same origin - API is served from the same server as the frontend\nconst API_BASE_URL = '';\n\n/**\n * Get all webhook leads from the database\n */\nexport const getAllWebhookLeads = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.leads || [];\n  } catch (error) {\n    console.error('Error fetching webhook leads:', error);\n    return [];\n  }\n};\n\n/**\n * Get a single webhook lead by ID\n */\nexport const getWebhookLeadById = async id => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads/${id}`);\n    if (!response.ok) {\n      if (response.status === 404) {\n        return null;\n      }\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.lead;\n  } catch (error) {\n    console.error('Error fetching webhook lead:', error);\n    return null;\n  }\n};\n\n/**\n * Delete a single webhook lead from the database\n */\nexport const deleteWebhookLead = async id => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads/${id}`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data.success;\n  } catch (error) {\n    console.error('Error deleting webhook lead:', error);\n    throw error;\n  }\n};\n\n/**\n * Delete ALL webhook leads from the database\n */\nexport const deleteAllWebhookLeads = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads`, {\n      method: 'DELETE'\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error deleting all webhook leads:', error);\n    throw error;\n  }\n};\n\n/**\n * Map a webhook lead to form data format for the builder\n */\nexport const mapLeadToFormData = lead => {\n  return {\n    companyName: lead.companyName || '',\n    ownerName: lead.ownerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || '',\n    phone: lead.phone || '',\n    email: lead.email || '',\n    tagline: lead.tagline || '',\n    address: lead.address ? `${lead.address}${lead.city ? ', ' + lead.city : ''}${lead.state ? ', ' + lead.state : ''}${lead.postalCode ? ' ' + lead.postalCode : ''}`.trim() : '',\n    yearsExperience: lead.yearsExperience || '',\n    services: Array.isArray(lead.services) ? lead.services : [],\n    // Keep default colors - they're not typically in webhook data\n    primaryColor: '#1a3a5c',\n    accentColor: '#c9a227'\n  };\n};","map":{"version":3,"names":["API_BASE_URL","getAllWebhookLeads","response","fetch","ok","Error","status","data","json","leads","error","console","getWebhookLeadById","id","lead","deleteWebhookLead","method","success","deleteAllWebhookLeads","mapLeadToFormData","companyName","ownerName","firstName","lastName","trim","phone","email","tagline","address","city","state","postalCode","yearsExperience","services","Array","isArray","primaryColor","accentColor"],"sources":["/Users/ab/inase tools/contractor-builder/src/api/webhookLeads.js"],"sourcesContent":["/**\n * API client for webhook leads\n */\n\n// Use same origin - API is served from the same server as the frontend\nconst API_BASE_URL = '';\n\n/**\n * Get all webhook leads from the database\n */\nexport const getAllWebhookLeads = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads`);\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.leads || [];\n  } catch (error) {\n    console.error('Error fetching webhook leads:', error);\n    return [];\n  }\n};\n\n/**\n * Get a single webhook lead by ID\n */\nexport const getWebhookLeadById = async (id) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads/${id}`);\n    \n    if (!response.ok) {\n      if (response.status === 404) {\n        return null;\n      }\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.lead;\n  } catch (error) {\n    console.error('Error fetching webhook lead:', error);\n    return null;\n  }\n};\n\n/**\n * Delete a single webhook lead from the database\n */\nexport const deleteWebhookLead = async (id) => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads/${id}`, {\n      method: 'DELETE'\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.success;\n  } catch (error) {\n    console.error('Error deleting webhook lead:', error);\n    throw error;\n  }\n};\n\n/**\n * Delete ALL webhook leads from the database\n */\nexport const deleteAllWebhookLeads = async () => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/api/webhook/leads`, {\n      method: 'DELETE'\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error deleting all webhook leads:', error);\n    throw error;\n  }\n};\n\n/**\n * Map a webhook lead to form data format for the builder\n */\nexport const mapLeadToFormData = (lead) => {\n  return {\n    companyName: lead.companyName || '',\n    ownerName: lead.ownerName || `${lead.firstName || ''} ${lead.lastName || ''}`.trim() || '',\n    phone: lead.phone || '',\n    email: lead.email || '',\n    tagline: lead.tagline || '',\n    address: lead.address ? \n      `${lead.address}${lead.city ? ', ' + lead.city : ''}${lead.state ? ', ' + lead.state : ''}${lead.postalCode ? ' ' + lead.postalCode : ''}`.trim() \n      : '',\n    yearsExperience: lead.yearsExperience || '',\n    services: Array.isArray(lead.services) ? lead.services : [],\n    // Keep default colors - they're not typically in webhook data\n    primaryColor: '#1a3a5c',\n    accentColor: '#c9a227'\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}